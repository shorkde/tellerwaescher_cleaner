// Generated by CoffeeScript 1.3.1
(function() {

  $(function() {
    var MyBackboneCollection;
    MyBackboneCollection = Backbone.Collection.extend({
      sync: function(method, model, options) {
        var params;
        if (typeof this.type === "undefined") {
          this.type = "POST";
        }
        if (typeof this.url === "function") {
          options.url = this.url();
        } else {
          options.url = this.url;
        }
        if (!this.noJsonStringify) {
          options.data = {
            request: JSON.stringify(this.query)
          };
        } else {
          options.data = this.query;
        }
        params = {
          type: this.type,
          dataType: 'json'
        };
        return $.ajax(_.extend(params, options));
      }
    });
    window.IngredientsCollection = MyBackboneCollection.extend({
      model: IngredientModel,
      query: {
        searchstring: "",
        limit: 10,
        offset: 0
      },
      url: "/api/get_unlinked_ingredients/",
      type: "GET"
    });
    window.NutritionsCollection = MyBackboneCollection.extend({
      model: NutritionModel,
      query: {
        searchstring: "",
        limit: 10,
        offset: 0
      },
      url: "/api/search_ingredient_info/"
    });
    window.EANCollection = MyBackboneCollection.extend({
      model: EANModel,
      query: {
        searchstring: "",
        limit: 10,
        offset: 0
      },
      url: "/api/get_eans/"
    });
    return window.CatsCollection = MyBackboneCollection.extend({
      model: CatModel,
      query: {
        searchstring: "",
        limit: 10,
        offset: 0
      },
      url: "/api/get_ingredient_categories/",
      type: "GET"
    });
  });

}).call(this);
